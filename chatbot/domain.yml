version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - select_submit
  - select_review
  - select_faq
  - faq
  - start
  - cancel
  - select_grievance

entities:
  - time
  - grievance_id

slots:
  department:
    type: text
    mappings:
    - type: from_text
      conditions:
        - active_loop: grievance_form
          requested_slot: department

  title:
    type: text
    mappings:
    - type: from_text
      conditions:
        - active_loop: grievance_form
          requested_slot: title

  description:
    type: text
    mappings:
    - type: from_text
      conditions:
        - active_loop: grievance_form
          requested_slot: description

  date:
    type: text
    mappings:
    - type: from_entity
      entity: time
      conditions:
        - active_loop: grievance_form
          requested_slot: date

  location:
    type: text
    mappings:
    - type: from_text
      conditions:
        - active_loop: grievance_form
          requested_slot: location

  attachments:
    type: any
    mappings:
    - type: from_text
      conditions:
        - active_loop: grievance_form
          requested_slot: attachments

  grievance_id:
    type: text
    mappings:
      - type: from_entity
        entity: grievance_id

forms:
  grievance_form:
    required_slots:
    - department
    - title
    - description
    - date
    - location
    - attachments

responses:
  utter_goodbye:
  - text: "Good bye!"

  utter_what_now:
  - text: "Anything else I can help you with?"

  utter_ask_faq:
  - text: "What question would you like me to answer?"

  utter_ask_title:
  - text: "Provide a brief description of the problem(One sentence)"

  utter_ask_description:
  - text: "Describe the problem in detail"

  utter_ask_date:
  - text: "When did it happen?"

  utter_ask_location:
  - text: "Where did it happen?"

  utter_ask_attachments:
  - text: "If you have any supporting documents or photos, please upload them now. Type 'skip' otherwise."

  utter_ask_confirmation:
  - text: "Department: {department}\nTitle: {title}\nDescription: {description}\nDate: {date}\nLocation: {location}\nSubmit grievance?"
  
  utter_submit_grievance:
  - text: The grievance has been submitted
  
  utter_cancel_grievance:
  - text: The grievance submission has been cancelled
  
  utter_faq/how_to_file_grievance:
  - text: "Choose the department and category, describe your issue, attach documents if needed, and submit, you can do this through this chatbot or the form present in the app. You’ll get an Acknowledgement Number to track your complaint."

  utter_faq/grievance_types:
  - text: "You can file grievances about corruption, service issues, harassment, land/legal matters, pensions, government schemes, and more."

  utter_faq/resolution_time:
  - text: "Most grievances are resolved within 7–30 days. You’ll be updated regularly on the progress."

  utter_faq/track_status:
  - text: "Use your Acknowledgement Number in the app or portal to track your grievance status and get updates."

  utter_faq/not_resolved:
  - text: "If unresolved, your grievance will be escalated. You can also contact the helpline for help."

  utter_faq/registration_required:
  - text: "Yes, registration is required to file and track grievances."

  utter_faq/helpline_contact:
  - text: "Call the Goa grievance helpline at 9319334335 for support."

  utter_faq/departments_covered:
  - text: "The system covers all major Goa government departments, such as Health, Education, Police, and more."

actions:
- action_give_options
- action_reset_grievance_form
- action_ask_department
- action_list_pending_grievances
- action_show_grievance_status


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
